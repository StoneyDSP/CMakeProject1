\hypertarget{class_compiler_outputter}{}\doxysection{Compiler\+Outputter Class Reference}
\label{class_compiler_outputter}\index{CompilerOutputter@{CompilerOutputter}}


Outputs a \mbox{\hyperlink{class_test_result_collector}{Test\+Result\+Collector}} in a compiler compatible format.  




{\ttfamily \#include $<$Compiler\+Outputter.\+h$>$}

Inheritance diagram for Compiler\+Outputter\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{dd/d06/class_compiler_outputter}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_compiler_outputter_a8dd6679e24c18b3ca54a4266d9d1b812}{Compiler\+Outputter}} (\mbox{\hyperlink{class_test_result_collector}{Test\+Result\+Collector}} $\ast$result, OStream \&stream, const std\+::string \&location\+Format=CPPUNIT\+\_\+\+COMPILER\+\_\+\+LOCATION\+\_\+\+FORMAT)
\begin{DoxyCompactList}\small\item\em Constructs a \mbox{\hyperlink{class_compiler_outputter}{Compiler\+Outputter}} object. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_compiler_outputter_ac74daaf4b355850c5e70b743aac2df82}\label{class_compiler_outputter_ac74daaf4b355850c5e70b743aac2df82}} 
virtual {\bfseries $\sim$\+Compiler\+Outputter} ()
\begin{DoxyCompactList}\small\item\em Destructor. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_compiler_outputter_a0d9e67c7bdcb443b0b2754d61a10790c}{set\+Location\+Format}} (const std\+::string \&location\+Format)
\begin{DoxyCompactList}\small\item\em Sets the error location format. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_compiler_outputter_a55ca2189956b9b52bdfb1802bf8da445}{write}} ()
\item 
\mbox{\Hypertarget{class_compiler_outputter_aaa1d8281f8973552a8e9a4568b7d90b4}\label{class_compiler_outputter_aaa1d8281f8973552a8e9a4568b7d90b4}} 
void {\bfseries set\+No\+Wrap} ()
\item 
\mbox{\Hypertarget{class_compiler_outputter_ab3559c2aaa88cbccb7c3823b3dd4d247}\label{class_compiler_outputter_ab3559c2aaa88cbccb7c3823b3dd4d247}} 
void {\bfseries set\+Wrap\+Column} (int wrap\+Column)
\item 
\mbox{\Hypertarget{class_compiler_outputter_a14b9df51175d658132451033e64a3cd2}\label{class_compiler_outputter_a14b9df51175d658132451033e64a3cd2}} 
int {\bfseries wrap\+Column} () const
\item 
\mbox{\Hypertarget{class_compiler_outputter_a5fb16745d10fddb67cbcbec270218589}\label{class_compiler_outputter_a5fb16745d10fddb67cbcbec270218589}} 
virtual void {\bfseries print\+Success} ()
\item 
\mbox{\Hypertarget{class_compiler_outputter_ab277e9b8c4af074593904dbc00853561}\label{class_compiler_outputter_ab277e9b8c4af074593904dbc00853561}} 
virtual void {\bfseries print\+Failure\+Report} ()
\item 
\mbox{\Hypertarget{class_compiler_outputter_a6919d4e1d44d03e50694aee73dc96d89}\label{class_compiler_outputter_a6919d4e1d44d03e50694aee73dc96d89}} 
virtual void {\bfseries print\+Failures\+List} ()
\item 
\mbox{\Hypertarget{class_compiler_outputter_acc3eefc4776b975af3502ef9afaf8b3d}\label{class_compiler_outputter_acc3eefc4776b975af3502ef9afaf8b3d}} 
virtual void {\bfseries print\+Statistics} ()
\item 
\mbox{\Hypertarget{class_compiler_outputter_a2a8fece8722cb0307a5f0f6cd0de41c3}\label{class_compiler_outputter_a2a8fece8722cb0307a5f0f6cd0de41c3}} 
virtual void {\bfseries print\+Failure\+Detail} (\mbox{\hyperlink{class_test_failure}{Test\+Failure}} $\ast$failure)
\item 
\mbox{\Hypertarget{class_compiler_outputter_aac88928b23fbae0b33b1624fa5696c31}\label{class_compiler_outputter_aac88928b23fbae0b33b1624fa5696c31}} 
virtual void {\bfseries print\+Failure\+Location} (\mbox{\hyperlink{class_source_line}{Source\+Line}} source\+Line)
\item 
\mbox{\Hypertarget{class_compiler_outputter_ae836af9e969ced1ebdb399313df10250}\label{class_compiler_outputter_ae836af9e969ced1ebdb399313df10250}} 
virtual void {\bfseries print\+Failure\+Type} (\mbox{\hyperlink{class_test_failure}{Test\+Failure}} $\ast$failure)
\item 
\mbox{\Hypertarget{class_compiler_outputter_a3e3fc6d7f2e98161144ab02f5f42dd9b}\label{class_compiler_outputter_a3e3fc6d7f2e98161144ab02f5f42dd9b}} 
virtual void {\bfseries print\+Failed\+Test\+Name} (\mbox{\hyperlink{class_test_failure}{Test\+Failure}} $\ast$failure)
\item 
\mbox{\Hypertarget{class_compiler_outputter_a701ad438ff6a5a0af01acd1d43de4b6c}\label{class_compiler_outputter_a701ad438ff6a5a0af01acd1d43de4b6c}} 
virtual void {\bfseries print\+Failure\+Message} (\mbox{\hyperlink{class_test_failure}{Test\+Failure}} $\ast$failure)
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{class_compiler_outputter}{Compiler\+Outputter}} $\ast$ \mbox{\hyperlink{class_compiler_outputter_a8fbbc2b393354620f9137d99ac1c8e67}{default\+Outputter}} (\mbox{\hyperlink{class_test_result_collector}{Test\+Result\+Collector}} $\ast$result, OStream \&stream)
\begin{DoxyCompactList}\small\item\em Creates an instance of an outputter that matches your current compiler. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_compiler_outputter_a264ecb788d4f8665bc3c081b7c33efc4}\label{class_compiler_outputter_a264ecb788d4f8665bc3c081b7c33efc4}} 
{\bfseries Compiler\+Outputter} (const \mbox{\hyperlink{class_compiler_outputter}{Compiler\+Outputter}} \&copy)
\begin{DoxyCompactList}\small\item\em Prevents the use of the copy constructor. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_compiler_outputter_a92a65f995856b0505d42c2fefac64828}\label{class_compiler_outputter_a92a65f995856b0505d42c2fefac64828}} 
void {\bfseries operator=} (const \mbox{\hyperlink{class_compiler_outputter}{Compiler\+Outputter}} \&copy)
\begin{DoxyCompactList}\small\item\em Prevents the use of the copy operator. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_compiler_outputter_a30a42dc8201fd0733921927f8c52c069}\label{class_compiler_outputter_a30a42dc8201fd0733921927f8c52c069}} 
virtual bool {\bfseries process\+Location\+Format\+Command} (char command, const \mbox{\hyperlink{class_source_line}{Source\+Line}} \&source\+Line)
\item 
\mbox{\Hypertarget{class_compiler_outputter_ae8d1a43662fd72c9ff54f83fa5a8bda8}\label{class_compiler_outputter_ae8d1a43662fd72c9ff54f83fa5a8bda8}} 
virtual std\+::string {\bfseries extract\+Base\+Name} (const std\+::string \&file\+Name) const
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_compiler_outputter_a0b2dda27a5d299a8d7d409fad6618134}\label{class_compiler_outputter_a0b2dda27a5d299a8d7d409fad6618134}} 
\mbox{\hyperlink{class_test_result_collector}{Test\+Result\+Collector}} $\ast$ {\bfseries m\+\_\+result}
\item 
\mbox{\Hypertarget{class_compiler_outputter_a06c4b436ca44003bce241f791964a88e}\label{class_compiler_outputter_a06c4b436ca44003bce241f791964a88e}} 
OStream \& {\bfseries m\+\_\+stream}
\item 
\mbox{\Hypertarget{class_compiler_outputter_aba3ee99abd3f0e4f809a9a415e4b7be5}\label{class_compiler_outputter_aba3ee99abd3f0e4f809a9a415e4b7be5}} 
std\+::string {\bfseries m\+\_\+location\+Format}
\item 
\mbox{\Hypertarget{class_compiler_outputter_aaa0b38b00d1eb5535db3498bc953d88f}\label{class_compiler_outputter_aaa0b38b00d1eb5535db3498bc953d88f}} 
int {\bfseries m\+\_\+wrap\+Column}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Outputs a \mbox{\hyperlink{class_test_result_collector}{Test\+Result\+Collector}} in a compiler compatible format. 

Printing the test results in a compiler compatible format (assertion location has the same format as compiler error), allow you to use your IDE to jump to the assertion failure. Location format can be customized (see \mbox{\hyperlink{class_compiler_outputter_a0d9e67c7bdcb443b0b2754d61a10790c}{set\+Location\+Format()}} ).

For example, when running the test in a post-\/build with VC++, if an assertion fails, you can jump to the assertion by pressing F4 (jump to next error).

Heres is an example of usage (from examples/cppunittest/\+Cpp\+Unit\+Test\+Main.\+cpp)\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordtype}{int} \mbox{\hyperlink{main_8cpp_a91359998962e0bc9e191e0220c63c7cf}{main}}( \textcolor{keywordtype}{int} argc, \textcolor{keywordtype}{char}* argv[] ) \{}
\DoxyCodeLine{  \textcolor{comment}{// if command line contains "{}-\/selftest"{} then this is the post build check}}
\DoxyCodeLine{  \textcolor{comment}{// => the output must be in the compiler error format.}}
\DoxyCodeLine{  \textcolor{keywordtype}{bool} selfTest = (argc > 1)  \&\&  }
\DoxyCodeLine{                  (std::string(\textcolor{stringliteral}{"{}-\/selftest"{}}) == argv[1]);}
\DoxyCodeLine{}
\DoxyCodeLine{  CppUnit::TextUi::TestRunner runner;}
\DoxyCodeLine{  runner.addTest( CppUnitTest::suite() );   \textcolor{comment}{// Add the top suite to the test runner}}
\DoxyCodeLine{}
\DoxyCodeLine{ \textcolor{keywordflow}{if} ( selfTest )}
\DoxyCodeLine{  \{ \textcolor{comment}{// Change the default outputter to a compiler error format outputter}}
\DoxyCodeLine{    \textcolor{comment}{// The test runner owns the new outputter.}}
\DoxyCodeLine{    runner.setOutputter( \textcolor{keyword}{new} CppUnit::CompilerOutputter( \&runner.result(),}
\DoxyCodeLine{                                                         std::cerr ) );}
\DoxyCodeLine{  \}}
\DoxyCodeLine{}
\DoxyCodeLine{ \textcolor{comment}{// Run the test and don't wait a key if post build check.}}
\DoxyCodeLine{  \textcolor{keywordtype}{bool} wasSuccessful = runner.run( \textcolor{stringliteral}{"{}"{}}, !selfTest );}
\DoxyCodeLine{}
\DoxyCodeLine{  \textcolor{comment}{// Return error code 1 if the one of test failed.}}
\DoxyCodeLine{  \textcolor{keywordflow}{return} wasSuccessful ? 0 : 1;}
\DoxyCodeLine{\}}

\end{DoxyCode}
 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_compiler_outputter_a8dd6679e24c18b3ca54a4266d9d1b812}\label{class_compiler_outputter_a8dd6679e24c18b3ca54a4266d9d1b812}} 
\index{CompilerOutputter@{CompilerOutputter}!CompilerOutputter@{CompilerOutputter}}
\index{CompilerOutputter@{CompilerOutputter}!CompilerOutputter@{CompilerOutputter}}
\doxysubsubsection{\texorpdfstring{CompilerOutputter()}{CompilerOutputter()}}
{\footnotesize\ttfamily Compiler\+Outputter\+::\+Compiler\+Outputter (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_test_result_collector}{Test\+Result\+Collector}} $\ast$}]{result,  }\item[{OStream \&}]{stream,  }\item[{const std\+::string \&}]{location\+Format = {\ttfamily CPPUNIT\+\_\+COMPILER\+\_\+LOCATION\+\_\+FORMAT} }\end{DoxyParamCaption})}



Constructs a \mbox{\hyperlink{class_compiler_outputter}{Compiler\+Outputter}} object. 


\begin{DoxyParams}{Parameters}
{\em result} & Result of the test run. \\
\hline
{\em stream} & Stream used to output test result. \\
\hline
{\em location\+Format} & Error location format used by your compiler. Default to {\ttfamily CPPUNIT\+\_\+\+COMPILER\+\_\+\+LOCATION\+\_\+\+FORMAT} which is defined in the configuration file. See \mbox{\hyperlink{class_compiler_outputter_a0d9e67c7bdcb443b0b2754d61a10790c}{set\+Location\+Format()}} for detail. \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_compiler_outputter_a0d9e67c7bdcb443b0b2754d61a10790c}{set\+Location\+Format()}}. 
\end{DoxySeeAlso}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_compiler_outputter_a8fbbc2b393354620f9137d99ac1c8e67}\label{class_compiler_outputter_a8fbbc2b393354620f9137d99ac1c8e67}} 
\index{CompilerOutputter@{CompilerOutputter}!defaultOutputter@{defaultOutputter}}
\index{defaultOutputter@{defaultOutputter}!CompilerOutputter@{CompilerOutputter}}
\doxysubsubsection{\texorpdfstring{defaultOutputter()}{defaultOutputter()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{class_compiler_outputter}{Compiler\+Outputter}} $\ast$ Compiler\+Outputter\+::default\+Outputter (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_test_result_collector}{Test\+Result\+Collector}} $\ast$}]{result,  }\item[{OStream \&}]{stream }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Creates an instance of an outputter that matches your current compiler. 

\begin{DoxyRefDesc}{Deprecated}
\item[\mbox{\hyperlink{deprecated__deprecated000005}{Deprecated}}]This class is specialized through parameterization instead of subclassing... Use \mbox{\hyperlink{class_compiler_outputter_a8dd6679e24c18b3ca54a4266d9d1b812}{Compiler\+Outputter\+::\+Compiler\+Outputter}} instead. \end{DoxyRefDesc}
\mbox{\Hypertarget{class_compiler_outputter_a0d9e67c7bdcb443b0b2754d61a10790c}\label{class_compiler_outputter_a0d9e67c7bdcb443b0b2754d61a10790c}} 
\index{CompilerOutputter@{CompilerOutputter}!setLocationFormat@{setLocationFormat}}
\index{setLocationFormat@{setLocationFormat}!CompilerOutputter@{CompilerOutputter}}
\doxysubsubsection{\texorpdfstring{setLocationFormat()}{setLocationFormat()}}
{\footnotesize\ttfamily void Compiler\+Outputter\+::set\+Location\+Format (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{location\+Format }\end{DoxyParamCaption})}



Sets the error location format. 

Indicates the format used to report location of failed assertion. This format should match the one used by your compiler.

The location format is a string in which the occurence of the following character sequence are replaced\+:


\begin{DoxyItemize}
\item \char`\"{}\%l\char`\"{} =\texorpdfstring{$>$}{>} replaced by the line number
\item \char`\"{}\%p\char`\"{} =\texorpdfstring{$>$}{>} replaced by the full path name of the file (\char`\"{}\+G\+:\textbackslash{}prg\textbackslash{}vc\textbackslash{}cppunit\textbackslash{}\+My\+Test.\+cpp\char`\"{})
\item \char`\"{}\%f\char`\"{} =\texorpdfstring{$>$}{>} replaced by the base name of the file (\char`\"{}\+My\+Test.\+cpp\char`\"{})
\end{DoxyItemize}

Some examples\+:


\begin{DoxyItemize}
\item VC++ error location format\+: \char`\"{}\%p(\%l)\+:\char`\"{} =\texorpdfstring{$>$}{>} produce \char`\"{}\+G\+:\textbackslash{}prg\textbackslash{}\+My\+Test.\+cpp(43)\+:\char`\"{}
\item GCC error location format\+: \char`\"{}\%f\+:\%l\+:\char`\"{} =\texorpdfstring{$>$}{>} produce \char`\"{}\+My\+Test.\+cpp\+:43\+:\char`\"{}
\end{DoxyItemize}

Thoses are the two compilers currently {\itshape supported} (gcc format is used if VC++ is not detected). If you want your compiler to be automatically supported by Cpp\+Unit, send a mail to the mailing list (preferred), or submit a feature request that indicates how to detect your compiler with the preprocessor (\#ifdef...) and your compiler location format. \mbox{\Hypertarget{class_compiler_outputter_a55ca2189956b9b52bdfb1802bf8da445}\label{class_compiler_outputter_a55ca2189956b9b52bdfb1802bf8da445}} 
\index{CompilerOutputter@{CompilerOutputter}!write@{write}}
\index{write@{write}!CompilerOutputter@{CompilerOutputter}}
\doxysubsubsection{\texorpdfstring{write()}{write()}}
{\footnotesize\ttfamily void Compiler\+Outputter\+::write (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_outputter}{Outputter}}.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
Compiler\+Outputter.\+h\end{DoxyCompactItemize}
