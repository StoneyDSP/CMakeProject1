\hypertarget{_test_caller_8h_source}{}\doxysection{Test\+Caller.\+h}
\label{_test_caller_8h_source}\index{out/build/x64/vcpkg\_installed/x86-\/windows/include/cppunit/TestCaller.h@{out/build/x64/vcpkg\_installed/x86-\/windows/include/cppunit/TestCaller.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#ifndef CPPUNIT\_TESTCALLER\_H    }\textcolor{comment}{// -\/*-\/ C++ -\/*-\/}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#define CPPUNIT\_TESTCALLER\_H}}
\DoxyCodeLine{3 }
\DoxyCodeLine{4 \textcolor{preprocessor}{\#include <cppunit/Exception.h>}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include <cppunit/TestCase.h>}}
\DoxyCodeLine{6 }
\DoxyCodeLine{7 \textcolor{preprocessor}{\#include <functional>}}
\DoxyCodeLine{8 }
\DoxyCodeLine{9 }
\DoxyCodeLine{10 \textcolor{preprocessor}{\#if defined(CPPUNIT\_USE\_TYPEINFO\_NAME)}}
\DoxyCodeLine{11 \textcolor{preprocessor}{\#  include <cppunit/extensions/TypeInfoHelper.h>}}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{13 }
\DoxyCodeLine{14 }
\DoxyCodeLine{15 CPPUNIT\_NS\_BEGIN}
\DoxyCodeLine{16 }
\DoxyCodeLine{17 \textcolor{preprocessor}{\#if 0}}
\DoxyCodeLine{21 \textcolor{keyword}{class }CPPUNIT\_API NoExceptionExpected}
\DoxyCodeLine{22 \{}
\DoxyCodeLine{23 \textcolor{keyword}{private}:}
\DoxyCodeLine{25   NoExceptionExpected();}
\DoxyCodeLine{26 \};}
\DoxyCodeLine{27 }
\DoxyCodeLine{28 }
\DoxyCodeLine{33 \textcolor{keyword}{template}<\textcolor{keyword}{class} ExceptionType>}
\DoxyCodeLine{34 \textcolor{keyword}{struct }ExpectedExceptionTraits}
\DoxyCodeLine{35 \{}
\DoxyCodeLine{36   \textcolor{keyword}{static} \textcolor{keywordtype}{void} expectedException()}
\DoxyCodeLine{37   \{}
\DoxyCodeLine{38 \textcolor{preprocessor}{\#if defined(CPPUNIT\_USE\_TYPEINFO\_NAME)}}
\DoxyCodeLine{39     \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_exception}{Exception}}( \mbox{\hyperlink{class_message}{Message}}(}
\DoxyCodeLine{40                          \textcolor{stringliteral}{"{}expected exception not thrown"{}},}
\DoxyCodeLine{41                          \textcolor{stringliteral}{"{}Expected exception type: "{}} + }
\DoxyCodeLine{42                            \mbox{\hyperlink{class_type_info_helper_a441b39c2ecc769c269543d84e8f0bed1}{TypeInfoHelper::getClassName}}( \textcolor{keyword}{typeid}( ExceptionType ) ) ) );}
\DoxyCodeLine{43 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{44     \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_exception}{Exception}}( \textcolor{stringliteral}{"{}expected exception not thrown"{}} );}
\DoxyCodeLine{45 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{46   \}}
\DoxyCodeLine{47 \};}
\DoxyCodeLine{48 }
\DoxyCodeLine{49 }
\DoxyCodeLine{55 \textcolor{keyword}{template}<>}
\DoxyCodeLine{56 \textcolor{keyword}{struct }ExpectedExceptionTraits<NoExceptionExpected>}
\DoxyCodeLine{57 \{}
\DoxyCodeLine{58   \textcolor{keyword}{static} \textcolor{keywordtype}{void} expectedException()}
\DoxyCodeLine{59   \{}
\DoxyCodeLine{60   \}}
\DoxyCodeLine{61 \};}
\DoxyCodeLine{62 }
\DoxyCodeLine{63 }
\DoxyCodeLine{64 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{65 }
\DoxyCodeLine{66 \textcolor{comment}{//*** FIXME: rework this when class Fixture is implemented. ***//}}
\DoxyCodeLine{67 }
\DoxyCodeLine{68 }
\DoxyCodeLine{105 \textcolor{keyword}{template} <\textcolor{keyword}{class} Fixture>}
\DoxyCodeLine{106 \textcolor{keyword}{class }\mbox{\hyperlink{class_test_caller}{TestCaller}} : \textcolor{keyword}{public} \mbox{\hyperlink{class_test_case}{TestCase}}}
\DoxyCodeLine{107 \{ }
\DoxyCodeLine{108   \textcolor{keyword}{typedef} void (Fixture::*TestMethod)();}
\DoxyCodeLine{109     }
\DoxyCodeLine{110 \textcolor{keyword}{public}:}
\DoxyCodeLine{117   \mbox{\hyperlink{class_test_caller_a84cb35144455c4245c45d755b84c6093}{TestCaller}}( std::string name, TestMethod test ) :}
\DoxyCodeLine{118         \mbox{\hyperlink{class_test_case}{TestCase}}( name ), }
\DoxyCodeLine{119         m\_ownFixture( true ),}
\DoxyCodeLine{120         m\_fixture( new Fixture() ),}
\DoxyCodeLine{121         m\_test\_function( std::bind(test, m\_fixture) )}
\DoxyCodeLine{122   \{}
\DoxyCodeLine{123   \}}
\DoxyCodeLine{124 }
\DoxyCodeLine{134   \mbox{\hyperlink{class_test_caller_a21479de59b7c38a6d8bed9e66025ebb0}{TestCaller}}(std::string name, TestMethod test, Fixture\& fixture) :}
\DoxyCodeLine{135         \mbox{\hyperlink{class_test_case}{TestCase}}( name ), }
\DoxyCodeLine{136         m\_ownFixture( false ),}
\DoxyCodeLine{137         m\_fixture( \&fixture ),}
\DoxyCodeLine{138         m\_test\_function( std::bind(test, \&fixture) )}
\DoxyCodeLine{139   \{}
\DoxyCodeLine{140   \}}
\DoxyCodeLine{141     }
\DoxyCodeLine{151   \mbox{\hyperlink{class_test_caller_a5977f4de9736929451f30b039a42487d}{TestCaller}}(std::string name, TestMethod test, Fixture* fixture) :}
\DoxyCodeLine{152         \mbox{\hyperlink{class_test_case}{TestCase}}( name ), }
\DoxyCodeLine{153         m\_ownFixture( true ),}
\DoxyCodeLine{154         m\_fixture( fixture ),}
\DoxyCodeLine{155         m\_test\_function( std::bind(test, fixture) )}
\DoxyCodeLine{156   \{}
\DoxyCodeLine{157   \}}
\DoxyCodeLine{158 }
\DoxyCodeLine{159   \mbox{\hyperlink{class_test_caller_a84cb35144455c4245c45d755b84c6093}{TestCaller}}(std::string name, std::function<\textcolor{keywordtype}{void}()> test\_function, Fixture* fixture):}
\DoxyCodeLine{160       \mbox{\hyperlink{class_test_case}{TestCase}}(name),}
\DoxyCodeLine{161       m\_ownFixture(true),}
\DoxyCodeLine{162       m\_fixture(fixture),}
\DoxyCodeLine{163       m\_test\_function(test\_function)}
\DoxyCodeLine{164     \{}
\DoxyCodeLine{165     \}}
\DoxyCodeLine{166     }
\DoxyCodeLine{167   \mbox{\hyperlink{class_test_caller}{\string~TestCaller}}() }
\DoxyCodeLine{168   \{}
\DoxyCodeLine{169     \textcolor{keywordflow}{if} (m\_ownFixture)}
\DoxyCodeLine{170       \textcolor{keyword}{delete} m\_fixture;}
\DoxyCodeLine{171   \}}
\DoxyCodeLine{172 }
\DoxyCodeLine{173   \textcolor{keywordtype}{void} \mbox{\hyperlink{class_test_caller_aad0c877a47b75d056a4f8f323d3169ab}{runTest}}()}
\DoxyCodeLine{174   \{ }
\DoxyCodeLine{175       m\_test\_function();}
\DoxyCodeLine{176   \}  }
\DoxyCodeLine{177 }
\DoxyCodeLine{178   \textcolor{keywordtype}{void} \mbox{\hyperlink{class_test_caller_ae6880afc711d24ae0b8846759064ceea}{setUp}}()}
\DoxyCodeLine{179   \{ }
\DoxyCodeLine{180     m\_fixture-\/>setUp (); }
\DoxyCodeLine{181   \}}
\DoxyCodeLine{182 }
\DoxyCodeLine{183   \textcolor{keywordtype}{void} \mbox{\hyperlink{class_test_caller_a0e463b88bf0ceacbd8875e0450ed2649}{tearDown}}()}
\DoxyCodeLine{184   \{ }
\DoxyCodeLine{185       m\_fixture-\/>tearDown (); }
\DoxyCodeLine{186   \}}
\DoxyCodeLine{187 }
\DoxyCodeLine{188   std::string toString()\textcolor{keyword}{ const}}
\DoxyCodeLine{189 \textcolor{keyword}{  }\{ }
\DoxyCodeLine{190     \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}TestCaller "{}} + \mbox{\hyperlink{class_test_case_a2f3532470cf17ba70b37caa3c8cdd8ce}{getName}}(); }
\DoxyCodeLine{191   \}}
\DoxyCodeLine{192 }
\DoxyCodeLine{193 \textcolor{keyword}{private}: }
\DoxyCodeLine{194   \mbox{\hyperlink{class_test_caller_a84cb35144455c4245c45d755b84c6093}{TestCaller}}( \textcolor{keyword}{const} \mbox{\hyperlink{class_test_caller}{TestCaller}} \&other ); }
\DoxyCodeLine{195   \mbox{\hyperlink{class_test_caller}{TestCaller}} \&operator =( \textcolor{keyword}{const} \mbox{\hyperlink{class_test_caller}{TestCaller}} \&other );}
\DoxyCodeLine{196 }
\DoxyCodeLine{197 \textcolor{keyword}{private}:}
\DoxyCodeLine{198   \textcolor{keywordtype}{bool} m\_ownFixture;}
\DoxyCodeLine{199   Fixture *m\_fixture;}
\DoxyCodeLine{200   std::function<void()> m\_test\_function;}
\DoxyCodeLine{201 \};}
\DoxyCodeLine{202 }
\DoxyCodeLine{203 }
\DoxyCodeLine{204 }
\DoxyCodeLine{205 CPPUNIT\_NS\_END}
\DoxyCodeLine{206 }
\DoxyCodeLine{207 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// CPPUNIT\_TESTCALLER\_H}}

\end{DoxyCode}
