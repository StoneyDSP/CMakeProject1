# CMake requirements.
cmake_minimum_required(VERSION 3.7...3.24.2)

# variables to store additional compiler flags
set(CXX_FLAGS)
set(CXX_FLAGS_DEBUG)
set(CXX_FLAGS_RELEASE)
set(CXX_FLAGS_MINSIZEREL)
set(CXX_FLAGS_RELWITHDEBINFO)

set(C_FLAGS)
set(C_FLAGS_DEBUG)
set(C_FLAGS_RELEASE)
set(C_FLAGS_MINSIZEREL)
set(C_FLAGS_RELWITHDEBINFO)

# list(APPEND CXX_FLAGS "/DWIN32 /D_WINDOWS /EHsc")
# list(APPEND CXX_FLAGS_DEBUG "/Zi /Ob0 /Od /RTC1")
# list(APPEND CXX_FLAGS_RELEASE "/O2 /Ob2 /DNDEBUG")
# list(APPEND CXX_FLAGS_MINSIZEREL "/O1 /Ob1 /DNDEBUG")
# list(APPEND CXX_FLAGS_RELWITHDEBINFO "/Zi /O2 /Ob1 /DNDEBUG")

if(CMAKE_CXX_COMPILER MATCHES "cl.exe")
	list(APPEND CXX_FLAGS "/DWIN32 /D_WINDOWS /EHsc")
	list(APPEND CXX_FLAGS_DEBUG "/Zi /Ob0 /Od /RTC1")
	list(APPEND CXX_FLAGS_RELEASE "/O2 /Ob2 /DNDEBUG")
	list(APPEND CXX_FLAGS_MINSIZEREL "/O1 /Ob1 /DNDEBUG")
	list(APPEND CXX_FLAGS_RELWITHDEBINFO "/Zi /O2 /Ob1 /DNDEBUG")
else()
	list(APPEND CXX_FLAGS "")
	list(APPEND CXX_FLAGS_DEBUG "-g")
	list(APPEND CXX_FLAGS_RELEASE "-O3 -DNDEBUG")
	list(APPEND CXX_FLAGS_MINSIZEREL "-Os -DNDEBUG")
	list(APPEND CXX_FLAGS_RELWITHDEBINFO "-O2 -g -DNDEBUG")
endif()

if(CMAKE_C_COMPILER MATCHES "cl.exe")
	list(APPEND C_FLAGS "/DWIN32 /D_WINDOWS")
	list(APPEND C_FLAGS_DEBUG "/Zi /Ob0 /Od /RTC1")
	list(APPEND C_FLAGS_RELEASE "/O2 /Ob2 /DNDEBUG")
	list(APPEND C_FLAGS_MINSIZEREL "/O1 /Ob1 /DNDEBUG")
	list(APPEND C_FLAGS_RELWITHDEBINFO "/Zi /O2 /Ob1 /DNDEBUG")
else()
	list(APPEND C_FLAGS "")
	list(APPEND C_FLAGS_DEBUG "-g")
	list(APPEND C_FLAGS_RELEASE "-O3 -DNDEBUG")
	list(APPEND C_FLAGS_MINSIZEREL "-Os -DNDEBUG")
	list(APPEND C_FLAGS_RELWITHDEBINFO "-O2 -g -DNDEBUG")
endif()

set(CMAKE_CXX_FLAGS ${CXX_FLAGS})
set(CMAKE_CXX_FLAGS_DEBUG ${CXX_FLAGS_DEBUG})
set(CMAKE_CXX_FLAGS_RELEASE ${CXX_FLAGS_RELEASE})
set(CMAKE_CXX_FLAGS_MINSIZEREL ${CXX_FLAGS_MINSIZEREL})
set(CMAKE_CXX_FLAGS_RELWITHDEBINFO ${CXX_FLAGS_RELWITHDEBINFO})

set(CMAKE_C_FLAGS ${C_FLAGS})
set(CMAKE_C_FLAGS_DEBUG ${C_FLAGS_DEBUG})
set(CMAKE_C_FLAGS_RELEASE ${C_FLAGS_RELEASE})
set(CMAKE_C_FLAGS_MINSIZEREL ${C_FLAGS_MINSIZEREL})
set(CMAKE_C_FLAGS_RELWITHDEBINFO ${C_FLAGS_RELWITHDEBINFO})

# if(USE_VCPKG)
# 	set(VCPKG_CXX_FLAGS ${CMAKE_CXX_FLAGS})
# 	set(VCPKG_CXX_FLAGS_DEBUG ${CMAKE_CXX_FLAGS_DEBUG})
# 	set(VCPKG_CXX_FLAGS_RELEASE ${CMAKE_CXX_FLAGS_RELEASE})
# 	set(VCPKG_CXX_FLAGS_MINSIZEREL ${CMAKE_CXX_FLAGS_MINSIZEREL})
# 	set(VCPKG_CXX_FLAGS_RELWITHDEBINFO ${CMAKE_CXX_FLAGS_RELWITHDEBINFO})

# 	set(VCPKG_C_FLAGS ${CMAKE_C_FLAGS})
# 	set(VCPKG_C_FLAGS_DEBUG ${CMAKE_C_FLAGS_DEBUG})
# 	set(VCPKG_C_FLAGS_RELEASE ${CMAKE_C_FLAGS_RELEASE})
# 	set(VCPKG_C_FLAGS_MINSIZEREL ${CMAKE_C_FLAGS_MINSIZEREL})
# 	set(VCPKG_C_FLAGS_RELWITHDEBINFO ${CMAKE_C_FLAGS_RELWITHDEBINFO})
# endif(USE_VCPKG)
